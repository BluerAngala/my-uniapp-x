---
inclusion: manual
---

# uniCloud 云端架构规范

参考 vk-unicloud 框架的 router/service 目录结构。

## 目录结构

```
uniCloud-aliyun/
├── cloudfunctions/
│   └── router/                    # 云函数路由入口
│       └── service/               # 业务逻辑层
│           ├── admin/             # 后台管理端业务逻辑
│           │   ├── user/          # 用户管理
│           │   │   ├── kh/        # 需登录后才能访问
│           │   │   ├── pub/       # 所有人都可以访问
│           │   │   ├── sys/       # 需要特定授权才可以访问
│           │   │   └── util/      # 专用工具包
│           │   ├── order/         # 订单服务
│           │   ├── system/        # 系统管理
│           │   └── system_uni/    # 框架内置功能
│           │
│           ├── client/            # 客户端业务逻辑（H5、小程序、APP）
│           │   ├── user/
│           │   └── order/
│           │
│           ├── common/            # 公共逻辑
│           │
│           ├── user/              # 统一用户中心（集成 uniID）
│           │   ├── kh/            # 客户端用户需登录后访问
│           │   ├── pub/           # 所有人都可以访问
│           │   ├── sys/           # 后端管理人员才能访问
│           │   └── util/
│           │
│           ├── plugs/             # 插件逻辑
│           │
│           └── template/          # 云函数模板
│
└── database/
    └── *.schema.json
```

## 访问权限说明

| 目录 | 说明 | 访问权限 |
|------|------|----------|
| kh/ | 客户端用户函数 | 需登录后才能访问 |
| pub/ | 公开函数 | 所有人都可以访问 |
| sys/ | 系统函数 | 需要特定授权（如管理员） |
| util/ | 工具函数 | 内部调用，不对外暴露 |

## 开发流程

1. 需求文档 - 明确功能需求和目标平台
2. 设计文档 - 页面结构、数据模型、API 接口设计
3. 任务清单 - 拆分任务、确定优先级
4. 代码实现 - 遵循规范编码
5. 代码检查 - 类型检查、条件编译验证
